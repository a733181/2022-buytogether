import{y as f,$ as C,r as h,C as x,o,c as a,a as n,w as v,B,F as u,a0 as M,b as e,I as V,J as S,t as i,f as $}from"./index.705e8f7a.js";import{u as I,_ as H}from"./TheModel.3149957f.js";import{_ as A}from"./SendProductMessage.cc663c2f.js";import{u as D}from"./contact.6d56ee7b.js";import"./index.a9798279.js";import"./TheTextarea.b9157a08.js";const F={class:"container py-10"},N=e("p",{class:"text-primary font-bold"},"\u7559\u8A00",-1),R={class:"overflow-auto"},T={class:"w-full table-auto text-center"},E=e("th",{class:"border-2 p-2"},"\u6703\u54E1ID",-1),J=e("th",{class:"border-2 p-2"},"\u8A0A\u606F",-1),L={key:0,class:"border-2 p-2"},U={key:1,class:"border-2 p-2"},j={class:"border-2 p-2"},q={class:"border-2 p-2"},z={key:0,class:"border-2 p-2"},G={key:1,class:"border-2 p-2"},ee={__name:"MessageAdminView",setup(K){const _=D(),{getAdminContactHandler:y,replayContactHandler:b}=_,{contact:p}=f(_),{sortMessage:l}=C(),{toggleShow:c}=f(I());y();const r=h(l[0]),m=h(""),g=x(()=>{if(r.value===l[0])return p.value.list.filter(t=>t.reply==="");if(r.value===l[1])return p.value.list.filter(t=>t.reply!=="")}),k=t=>{m.value=t,c.value=!c.value},w=t=>{const d={reply:t.message,id:m.value};b(d),c.value=!c.value};return(t,d)=>(o(),a("div",F,[n(B,{class:"mb-10"},{default:v(()=>[N]),_:1}),n(M,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=s=>r.value=s),select:u(l),class:"mb-6"},null,8,["modelValue","select"]),e("div",R,[e("table",T,[e("thead",null,[e("tr",null,[E,J,r.value!==u(l)[1]?(o(),a("th",L," \u56DE\u8986 ")):(o(),a("th",U,"\u56DE\u8986"))])]),e("tbody",null,[(o(!0),a(V,null,S(u(g),s=>(o(),a("tr",{key:s._id},[e("td",j,i(s.userId),1),e("td",q,i(s.message),1),r.value!==u(l)[1]?(o(),a("td",z,[n($,{text:"\u56DE\u8986",onClick:O=>k(s._id)},null,8,["onClick"])])):(o(),a("td",G,i(s.reply),1))]))),128))])])]),n(H,null,{default:v(()=>[n(A,{onMessage:w})]),_:1})]))}};export{ee as default};

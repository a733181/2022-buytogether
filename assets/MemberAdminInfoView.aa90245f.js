import{a5 as y,u as _,y as h,r as T,d as p,E as U,o as k,c as B,a as t,w as f,B as C,b as n,g as S,Z as m,f as v,L}from"./index.82bb223f.js";import{v as d}from"./index.73ffca11.js";import{U as E}from"./UploadImage.39e65fa9.js";const N={class:"container py-10"},H={class:"flex"},R=n("p",null,"\u2002/\u2002\u7DE8\u8F2F",-1),$={class:"lg:w-1/2 mx-auto border-2 px-5 py-4"},A=n("h2",{class:"mb-8 text-2xl"},"\u4FEE\u6539\u8CC7\u8A0A",-1),I=["onSubmit"],F={class:"flex justify-between mt-8"},Z={__name:"MemberAdminInfoView",setup(M){const w=y(),u=_(),{editAdminUserHander:c}=u,{userAdmin:l}=h(u),i=T(!1),r=p({name:{type:String,error:!1},password:{type:String,error:!1},email:{type:String,error:!1},phone:{type:String,error:!1}}),e=p({_id:l.value.edit._id||"",name:l.value.edit.name||"",password:"",image:l.value.edit.image||"",email:l.value.edit.email||"",phone:l.value.edit.phone||""}),x=()=>d.isEmpty(e.name)?(r.name.value="\u70BA\u5FC5\u586B",r.name.error=!0,!0):e.password!==""&&!d.isByteLength(e.password,{min:4,max:20})?(r.password.value="\u9577\u5EA6\u5927\u65BC 4 \u5C0F\u65BC 20",r.password.error=!0,!0):d.isByteLength(e.name,{max:12})?!1:(r.name.value="\u9577\u5EA6\u5C0F\u65BC 12",r.name.error=!0,!0),g=async()=>{if(x())return;i.value=!0;const s=new FormData;s.append("id",e._id),s.append("name",e.name),s.append("phone",e.phone),s.append("email",e.email),s.append("password",e.password),e.image&&e.image!==l.value.edit.image&&e.image.type.startsWith("image/")&&s.append("image",e.image),await c(s),i.value=!1},b=()=>{l.value.edit={},w.push("/member/shipadmin")};return(s,a)=>{const V=U("RouterLink");return k(),B("div",N,[t(C,{class:"mb-10"},{default:f(()=>[n("div",H,[t(V,{to:"/member/shipadmin",class:"text-primary font-bold hover:scale-105"},{default:f(()=>[L("\u6703\u54E1")]),_:1}),R])]),_:1}),n("div",$,[A,n("form",{onSubmit:S(g,["prevent"])},[t(E,{modelValue:e.image,"onUpdate:modelValue":a[0]||(a[0]=o=>e.image=o),className:"avatar",id:"avatar",class:"mx-auto w-fit"},null,8,["modelValue"]),t(m,{title:"\u540D\u7A31",class:"mb-8",modelValue:e.name,"onUpdate:modelValue":a[1]||(a[1]=o=>e.name=o),error:r.name.error,errorText:r.name.value,onClick:a[2]||(a[2]=o=>r.name.error=!1)},null,8,["modelValue","error","errorText"]),t(m,{title:"\u5BC6\u78BC",class:"mb-8",type:"password",modelValue:e.password,"onUpdate:modelValue":a[3]||(a[3]=o=>e.password=o),error:r.password.error,errorText:r.password.value,onClick:a[4]||(a[4]=o=>r.password.error=!1)},null,8,["modelValue","error","errorText"]),t(m,{title:"Email",type:"email",class:"mb-8",modelValue:e.email,"onUpdate:modelValue":a[5]||(a[5]=o=>e.email=o),error:r.email.error,errorText:r.email.value,onClick:a[6]||(a[6]=o=>r.email.error=!1)},null,8,["modelValue","error","errorText"]),t(m,{title:"\u96FB\u8A71",class:"mb-8",modelValue:e.phone,"onUpdate:modelValue":a[7]||(a[7]=o=>e.phone=o),error:r.phone.error,errorText:r.phone.value,onClick:a[8]||(a[8]=o=>r.phone.error=!1)},null,8,["modelValue","error","errorText"]),n("div",F,[t(v,{text:"\u53D6\u6D88",className:"btn-outline",class:"w-1/3",onClick:b}),t(v,{type:"sumbit",text:"\u78BA\u5B9A",class:"w-1/3",disabled:i.value,loading:i.value},null,8,["disabled","loading"])])],40,I)])])}}};export{Z as default};

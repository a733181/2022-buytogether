import{r as C,a2 as L,y as S,$ as T,d as p,E,o as c,c as H,F as u,K as _,w as o,B as x,b as r,g as I,a as n,Z as k,f as y,L as b,t as g}from"./index.4b815274.js";import{v as d}from"./index.ff4e70e5.js";const R={class:"container py-10"},U={class:"flex"},$=r("p",null,"\u2002/\u2002",-1),F={class:"flex"},j=r("p",null,"\u2002/\u2002",-1),D={class:"lg:w-1/2 mx-auto border-2 px-5 py-10 rounded-lg"},K=["onSubmit"],M={class:"flex gap-5 items-center"},Z={class:"w-1/4"},q={class:"flex mt-8 gap-5 justify-center"},J={__name:"BankInfoView",setup(z){const m=C(!1),f=L(),{sumbitBankHandler:B,cancelBankHandler:V}=f,{editBank:s}=S(f),{bankNumberLists:v}=T(),a=p({_id:s.value._id||"",userId:s.value.userId||null,bankName:s.value.bankName||"",bankNumber:s.value.bankNumber?String(s.value.bankNumber):"",preset:s.value.preset||!1}),e=p({bankName:{error:!1,value:""},bankNumber:{error:!1,value:""}}),h=()=>d.isEmpty(a.bankName)?(e.bankName.value="\u70BA\u5FC5\u586B",e.bankName.error=!0,!0):d.isEmpty(a.bankNumber)?(e.bankNumber.value="\u70BA\u5FC5\u586B",e.bankNumber.error=!0,!0):d.isNumeric(a.bankNumber)?d.isByteLength(a.bankNumber,{min:11,max:16})?v.some(N=>N===a.bankName)?!1:(e.bankName.value="\u683C\u5F0F\u932F\u8AA4",e.bankName.error=!0,!0):(e.bankNumber.value="\u9577\u5EA6\u5927\u65BC 11 \u5C0F\u65BC 16",e.bankNumber.error=!0,!0):(e.bankNumber.value="\u4E0D\u662F\u6578\u5B57",e.bankNumber.error=!0,!0),w=async()=>{h()||(m.value=!0,await B(a),m.value=!1)};return(N,t)=>{const i=E("RouterLink");return c(),H("div",R,[u(s).type!="admin"?(c(),_(x,{key:0,class:"mb-20"},{default:o(()=>[r("div",U,[n(i,{to:"/member/ship",class:"text-primary font-bold hover:scale-105"},{default:o(()=>[b("\u5E33\u6236")]),_:1}),$,n(i,{to:"/member/banklist",class:"hover:scale-105"},{default:o(()=>[b("\u5E33\u6236\u5217\u8868")]),_:1}),r("p",null,g(u(s)._id?"\u2002/\u2002\u4FEE\u6539\u5E33\u6236":"\u2002/\u2002\u65B0\u589E\u5E33\u6236"),1)])]),_:1})):(c(),_(x,{key:1,class:"mb-20"},{default:o(()=>[r("div",F,[n(i,{to:"/member/shipadmin",class:"hover:scale-105"},{default:o(()=>[b("\u6703\u54E1")]),_:1}),j,n(i,{to:"/member/adminbank",class:"hover:scale-105"},{default:o(()=>[b("\u5E33\u6236\u5217\u8868")]),_:1}),r("p",null,g(u(s)._id?"\u2002/\u2002\u4FEE\u6539\u5E33\u6236":"\u2002/\u2002\u65B0\u589E\u5E33\u6236"),1)])]),_:1})),r("div",D,[r("form",{onSubmit:I(w,["prevent"])},[r("div",M,[r("div",Z,[n(k,{title:"\u4EE3\u865F",modelValue:a.bankName,"onUpdate:modelValue":t[0]||(t[0]=l=>a.bankName=l),error:e.bankName.error,errorText:e.bankName.value,onClick:t[1]||(t[1]=l=>e.bankName.error=!1),select:u(v)},null,8,["modelValue","error","errorText","select"])]),n(k,{title:"\u5E33\u865F",class:"w-2/4",modelValue:a.bankNumber,"onUpdate:modelValue":t[2]||(t[2]=l=>a.bankNumber=l),error:e.bankNumber.error,errorText:e.bankNumber.value,onClick:t[3]||(t[3]=l=>e.bankNumber.error=!1),maxlength:"16"},null,8,["modelValue","error","errorText"]),n(k,{title:"\u9810\u8A2D",type:"checkbox",class:"-mb-4",modelValue:a.preset,"onUpdate:modelValue":t[4]||(t[4]=l=>a.preset=l),id:"bankpreset"},null,8,["modelValue"])]),r("div",q,[n(y,{text:"\u53D6\u6D88",className:"btn-outline",class:"w-1/6",onClick:u(V)},null,8,["onClick"]),n(y,{type:"sumbit",text:"\u78BA\u5B9A",class:"w-1/6",disabled:m.value,loading:m.value},null,8,["disabled","loading"])])],40,K)])])}}};export{J as default};

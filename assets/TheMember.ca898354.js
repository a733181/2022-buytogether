import{r as k,u as V,A as T,e as d,o as B,g as C,G as S,a as u,c as H,b as n,a0 as m,d as L,M as f,H as w,h as i,w as M,i as N}from"./index.b886694d.js";import{v as l}from"./index.bf8ef64b.js";const _=["onSubmit"],E={class:"flex justify-between mt-10"},W={__name:"TheMember",props:{type:{type:String,default:"user"}},setup(v){const c=v,s=k(!1),p=V(),{registerHandler:b,loginHandler:h}=p,{isLogin:a}=T(p),r=d({phone:"",password:""}),e=d({phone:{error:!1,value:""},password:{error:!1,value:""}}),x=()=>l.isEmpty(r.phone)?(e.phone.value="\u70BA\u5FC5\u586B",e.phone.error=!0,!0):l.isEmpty(r.password)?(e.password.value="\u70BA\u5FC5\u586B",e.password.error=!0,!0):l.isMobilePhone(r.phone,["zh-TW"])?r.password!==""&&!l.isByteLength(r.password,{min:4,max:20})?(e.password.value="\u9577\u5EA6\u5927\u65BC 4 \u5C0F\u65BC 20",e.password.error=!0,!0):!1:(e.phone.value="\u683C\u5F0F\u932F\u8AA4",e.phone.error=!0,!0),g=async()=>{x()||(s.value=!0,a.value?await h(r):await b(r),s.value=!1)};return B(()=>{C.from(".tobottom",{y:"-100%",duration:.8})}),(R,t)=>{const y=S("RouterLink");return u(),H("form",{onSubmit:N(g,["prevent"]),class:"tobottom lg:w-1/3 mx-auto"},[n(m,{title:"\u624B\u6A5F\u865F\u78BC",modelValue:r.phone,"onUpdate:modelValue":t[0]||(t[0]=o=>r.phone=o),type:"text",error:e.phone.error,errorText:e.phone.value,onClick:t[1]||(t[1]=o=>e.phone.error=!1),maxlength:"10"},null,8,["modelValue","error","errorText"]),n(m,{title:"\u5BC6\u78BC",modelValue:r.password,"onUpdate:modelValue":t[2]||(t[2]=o=>r.password=o),type:"password",error:e.password.error,errorText:e.password.value,onClick:t[3]||(t[3]=o=>e.password.error=!1),maxlength:"20"},null,8,["modelValue","error","errorText"]),L("div",E,[c.type==="user"?(u(),f(i,{key:0,status:"button",class:"w-1/3",className:"btn-outline",onClick:t[4]||(t[4]=o=>a.value=!w(a)),text:w(a)?"\u8A3B\u518A":"\u8FD4\u56DE"},null,8,["text"])):(u(),f(y,{key:1,to:"/member/shipadmin",class:"w-1/3"},{default:M(()=>[n(i,{status:"button",class:"w-full",className:"btn-outline",text:"\u8FD4\u56DE"})]),_:1})),n(i,{status:"submit",class:"w-1/3",text:"\u78BA\u5B9A",disabled:s.value,loading:s.value},null,8,["disabled","loading"])])],40,_)}}};export{W as _};

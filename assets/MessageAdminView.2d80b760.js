import{y as f,Z as C,r as h,A as x,o,c as a,a as n,w as v,B,E as u,a0 as M,b as e,H as V,I as S,t as i,f as H}from"./index.b2fef862.js";import{u as I,_ as $}from"./TheModel.3da386e9.js";import{_ as A}from"./SendProductMessage.c3840324.js";import{u as D}from"./contact.c315cd2e.js";import"./index.d00418da.js";import"./TheTextarea.eea35c2a.js";const E={class:"container py-10"},N=e("p",{class:"text-primary font-bold"},"\u7559\u8A00",-1),R={class:"overflow-auto"},T={class:"w-full table-auto text-center"},F=e("th",{class:"border-2 p-2"},"\u6703\u54E1ID",-1),L=e("th",{class:"border-2 p-2"},"\u8A0A\u606F",-1),U={key:0,class:"border-2 p-2"},Z={key:1,class:"border-2 p-2"},j={class:"border-2 p-2"},q={class:"border-2 p-2"},z={key:0,class:"border-2 p-2"},G={key:1,class:"border-2 p-2"},ee={__name:"MessageAdminView",setup(J){const _=D(),{getAdminContactHandler:y,replayContactHandler:b}=_,{contact:p}=f(_),{sortMessage:l}=C(),{toggleShow:c}=f(I());y();const r=h(l[0]),m=h(""),g=x(()=>{if(r.value===l[0])return p.value.list.filter(t=>t.reply==="");if(r.value===l[1])return p.value.list.filter(t=>t.reply!=="")}),k=t=>{m.value=t,c.value=!c.value},w=t=>{const d={reply:t.message,id:m.value};b(d),c.value=!c.value};return(t,d)=>(o(),a("div",E,[n(B,{class:"mb-10"},{default:v(()=>[N]),_:1}),n(M,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=s=>r.value=s),select:u(l),class:"mb-6"},null,8,["modelValue","select"]),e("div",R,[e("table",T,[e("thead",null,[e("tr",null,[F,L,r.value!==u(l)[1]?(o(),a("th",U," \u56DE\u8986 ")):(o(),a("th",Z,"\u56DE\u8986"))])]),e("tbody",null,[(o(!0),a(V,null,S(u(g),s=>(o(),a("tr",{key:s._id},[e("td",j,i(s.userId),1),e("td",q,i(s.message),1),r.value!==u(l)[1]?(o(),a("td",z,[n(H,{text:"\u56DE\u8986",onClick:K=>k(s._id)},null,8,["onClick"])])):(o(),a("td",G,i(s.reply),1))]))),128))])])]),n($,null,{default:v(()=>[n(A,{onMessage:w})]),_:1})]))}};export{ee as default};

import{r as k,u as V,A as T,e as d,G as B,a as u,c as C,b as n,a0 as m,d as H,M as f,H as w,h as i,w as L,i as M}from"./index.3e04d613.js";import{v as l}from"./index.a7a59203.js";const N=["onSubmit"],S={class:"flex justify-between mt-10"},U={__name:"TheMember",props:{type:{type:String,default:"user"}},setup(v){const c=v,o=k(!1),p=V(),{registerHandler:x,loginHandler:h}=p,{isLogin:a}=T(p),r=d({phone:"",password:""}),e=d({phone:{error:!1,value:""},password:{error:!1,value:""}}),b=()=>l.isEmpty(r.phone)?(e.phone.value="\u70BA\u5FC5\u586B",e.phone.error=!0,!0):l.isEmpty(r.password)?(e.password.value="\u70BA\u5FC5\u586B",e.password.error=!0,!0):l.isMobilePhone(r.phone,["zh-TW"])?r.password!==""&&!l.isByteLength(r.password,{min:4,max:20})?(e.password.value="\u9577\u5EA6\u5927\u65BC 4 \u5C0F\u65BC 20",e.password.error=!0,!0):!1:(e.phone.value="\u683C\u5F0F\u932F\u8AA4",e.phone.error=!0,!0),y=async()=>{b()||(o.value=!0,a.value?await h(r):await x(r),o.value=!1)};return(_,s)=>{const g=B("RouterLink");return u(),C("form",{onSubmit:M(y,["prevent"]),class:"lg:w-1/3 mx-auto"},[n(m,{title:"\u624B\u6A5F\u865F\u78BC",modelValue:r.phone,"onUpdate:modelValue":s[0]||(s[0]=t=>r.phone=t),type:"text",error:e.phone.error,errorText:e.phone.value,onClick:s[1]||(s[1]=t=>e.phone.error=!1),maxlength:"10"},null,8,["modelValue","error","errorText"]),n(m,{title:"\u5BC6\u78BC",modelValue:r.password,"onUpdate:modelValue":s[2]||(s[2]=t=>r.password=t),type:"password",error:e.password.error,errorText:e.password.value,onClick:s[3]||(s[3]=t=>e.password.error=!1),maxlength:"20"},null,8,["modelValue","error","errorText"]),H("div",S,[c.type==="user"?(u(),f(i,{key:0,status:"button",class:"w-1/3",className:"btn-outline",onClick:s[4]||(s[4]=t=>a.value=!w(a)),text:w(a)?"\u8A3B\u518A":"\u8FD4\u56DE"},null,8,["text"])):(u(),f(g,{key:1,to:"/member/shipadmin",class:"w-1/3"},{default:L(()=>[n(i,{status:"button",class:"w-full",className:"btn-outline",text:"\u8FD4\u56DE"})]),_:1})),n(i,{status:"submit",class:"w-1/3",text:"\u78BA\u5B9A",disabled:o.value,loading:o.value},null,8,["disabled","loading"])])],40,N)}}};export{U as _};

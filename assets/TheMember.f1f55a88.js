import{r as k,u as V,y as T,d,E as B,o as u,c as C,a as n,Z as m,b as L,K as f,F as w,f as i,w as E,g as H}from"./index.96a46153.js";import{v as l}from"./index.05e7650d.js";const N=["onSubmit"],S={class:"flex justify-between mt-10"},U={__name:"TheMember",props:{type:{type:String,default:"user"}},setup(v){const c=v,o=k(!1),p=V(),{registerHandler:x,loginHandler:b}=p,{isLogin:a}=T(p),r=d({phone:"",password:""}),e=d({phone:{error:!1,value:""},password:{error:!1,value:""}}),h=()=>l.isEmpty(r.phone)?(e.phone.value="\u70BA\u5FC5\u586B",e.phone.error=!0,!0):l.isEmpty(r.password)?(e.password.value="\u70BA\u5FC5\u586B",e.password.error=!0,!0):l.isMobilePhone(r.phone,["zh-TW"])?l.isByteLength(r.password,{min:4,max:20})?!1:(e.password.value="\u9577\u5EA6\u5927\u65BC 4 \u5C0F\u65BC 20",e.password.error=!0,!0):(e.phone.value="\u683C\u5F0F\u932F\u8AA4",e.phone.error=!0,!0),y=async()=>{h()||(o.value=!0,a.value?await b(r):await x(r),o.value=!1)};return(_,t)=>{const g=B("RouterLink");return u(),C("form",{onSubmit:H(y,["prevent"]),class:"lg:w-1/2 mx-auto"},[n(m,{title:"\u624B\u6A5F\u865F\u78BC",modelValue:r.phone,"onUpdate:modelValue":t[0]||(t[0]=s=>r.phone=s),type:"text",error:e.phone.error,errorText:e.phone.value,onClick:t[1]||(t[1]=s=>e.phone.error=!1),maxlength:"10"},null,8,["modelValue","error","errorText"]),n(m,{title:"\u5BC6\u78BC",modelValue:r.password,"onUpdate:modelValue":t[2]||(t[2]=s=>r.password=s),type:"password",error:e.password.error,errorText:e.password.value,onClick:t[3]||(t[3]=s=>e.password.error=!1)},null,8,["modelValue","error","errorText"]),L("div",S,[c.type==="user"?(u(),f(i,{key:0,status:"button",class:"w-1/3",className:"btn-outline",onClick:t[4]||(t[4]=s=>a.value=!w(a)),text:w(a)?"\u8A3B\u518A":"\u8FD4\u56DE"},null,8,["text"])):(u(),f(g,{key:1,to:"/member/shipadmin",class:"w-1/3"},{default:E(()=>[n(i,{status:"button",class:"w-full",className:"btn-outline",text:"\u8FD4\u56DE"})]),_:1})),n(i,{status:"submit",class:"w-1/3",text:"\u78BA\u5B9A",disabled:o.value,loading:o.value},null,8,["disabled","loading"])])],40,N)}}};export{U as _};

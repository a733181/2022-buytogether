import{r as C,a2 as S,y as T,Z as L,d as p,D as E,o as k,c as H,E as u,J as _,w as o,B as x,b as s,a as n,Y as c,f as y,g as I,K as i,t as B}from"./index.5bd81ced.js";import{v as d}from"./index.3e23a1fd.js";const R={class:"container py-10"},U={class:"flex"},D=s("p",null,"\u2002/\u2002",-1),$={class:"flex"},j=s("p",null,"\u2002/\u2002",-1),F=["onSubmit"],J={class:"flex justify-between mt-8"},Z={__name:"BankInfoView",setup(K){const m=C(!1),N=S(),{sumbitBankHandler:V,cancelBankHandler:g}=N,{editBank:t}=T(N),{bankNumberLists:f}=L(),a=p({_id:t.value._id||"",userId:t.value.userId||null,bankName:t.value.bankName||"",bankNumber:t.value.bankNumber?String(t.value.bankNumber):"",preset:t.value.preset||!1}),e=p({bankName:{error:!1,value:""},bankNumber:{error:!1,value:""}}),h=()=>d.isEmpty(a.bankName)?(e.bankName.value="\u70BA\u5FC5\u586B",e.bankName.error=!0,!0):d.isEmpty(a.bankNumber)?(e.bankNumber.value="\u70BA\u5FC5\u586B",e.bankNumber.error=!0,!0):d.isNumeric(a.bankNumber)?d.isByteLength(a.bankNumber,{min:11,max:16})?f.some(v=>v===a.bankName)?!1:(e.bankName.value="\u683C\u5F0F\u932F\u8AA4",e.bankName.error=!0,!0):(e.bankNumber.value="\u9577\u5EA6\u5927\u65BC 11 \u5C0F\u65BC 16",e.bankNumber.error=!0,!0):(e.bankNumber.value="\u4E0D\u662F\u6578\u5B57",e.bankNumber.error=!0,!0),w=async()=>{h()||(m.value=!0,await V(a),m.value=!1)};return(v,r)=>{const b=E("RouterLink");return k(),H("div",R,[u(t).type!="admin"?(k(),_(x,{key:0,class:"mb-10"},{default:o(()=>[s("div",U,[n(b,{to:"/member/ship",class:"text-primary font-bold hover:scale-105"},{default:o(()=>[i("\u5E33\u6236")]),_:1}),D,n(b,{to:"/member/banklist",class:"hover:scale-105"},{default:o(()=>[i("\u5E33\u6236\u5217\u8868")]),_:1}),s("p",null,B(u(t)._id?"\u2002/\u2002\u4FEE\u6539\u5E33\u6236":"\u2002/\u2002\u65B0\u589E\u5E33\u6236"),1)])]),_:1})):(k(),_(x,{key:1,class:"mb-10"},{default:o(()=>[s("div",$,[n(b,{to:"/member/shipadmin",class:"hover:scale-105"},{default:o(()=>[i("\u6703\u54E1")]),_:1}),j,n(b,{to:"/member/adminbank",class:"hover:scale-105"},{default:o(()=>[i("\u5E33\u6236\u5217\u8868")]),_:1}),s("p",null,B(u(t)._id?"\u2002/\u2002\u4FEE\u6539\u5E33\u6236":"\u2002/\u2002\u65B0\u589E\u5E33\u6236"),1)])]),_:1})),s("form",{onSubmit:I(w,["prevent"])},[n(c,{title:"\u4EE3\u865F",modelValue:a.bankName,"onUpdate:modelValue":r[0]||(r[0]=l=>a.bankName=l),error:e.bankName.error,errorText:e.bankName.value,onClick:r[1]||(r[1]=l=>e.bankName.error=!1),select:u(f)},null,8,["modelValue","error","errorText","select"]),n(c,{title:"\u5E33\u865F",modelValue:a.bankNumber,"onUpdate:modelValue":r[2]||(r[2]=l=>a.bankNumber=l),error:e.bankNumber.error,errorText:e.bankNumber.value,onClick:r[3]||(r[3]=l=>e.bankNumber.error=!1),maxlength:"16"},null,8,["modelValue","error","errorText"]),n(c,{title:"\u9810\u8A2D",type:"checkbox",modelValue:a.preset,"onUpdate:modelValue":r[4]||(r[4]=l=>a.preset=l),id:"bankpreset"},null,8,["modelValue"]),s("div",J,[n(y,{text:"\u53D6\u6D88",className:"btn-outline",class:"w-1/3",onClick:u(g)},null,8,["onClick"]),n(y,{type:"sumbit",text:"\u78BA\u5B9A",class:"w-1/3",disabled:m.value,loading:m.value},null,8,["disabled","loading"])])],40,F)])}}};export{Z as default};

import{r as x,u as w,y as h,d,D as y,o as V,c as k,a as s,w as i,B,b as t,g as E,Y as g,f as c,K as N}from"./index.47490af8.js";import{v as f}from"./index.d2850135.js";const T={class:"container py-10"},C={class:"flex"},H=t("p",null,"\u2002/\u2002Email\u7DE8\u8F2F",-1),L={class:"lg:w-1/2 mx-auto border-2 px-5 py-4"},R=t("h2",{class:"mb-8 text-2xl"},"\u4FEE\u6539\u8CC7\u8A0A",-1),S=["onSubmit"],U={class:"flex justify-between mt-8"},j={__name:"EmailInfoView",setup(D){const r=x(!1),n=w(),{editUserHander:p}=n,{users:_}=h(n),a=d({email:_.value.email||""}),e=d({error:!1,value:""}),v=()=>f.isEmpty(a.email)?(e.value="\u70BA\u5FC5\u586B",e.error=!0,!0):(f.isEmail(a.email)||(e.value="\u683C\u5F0F\u932F\u8AA4",e.error=!0),!1),b=async()=>{if(v())return;r.value=!0;const l=new FormData;l.append("email",a.email),await p(l),r.value=!1};return(l,o)=>{const m=y("RouterLink");return V(),k("div",T,[s(B,{class:"mb-10"},{default:i(()=>[t("div",C,[s(m,{to:"/member/ship",class:"text-primary font-bold hover:scale-105"},{default:i(()=>[N("\u5E33\u6236")]),_:1}),H])]),_:1}),t("div",L,[R,t("form",{onSubmit:E(b,["prevent"])},[s(g,{title:"Email",type:"email",class:"mb-8",modelValue:a.email,"onUpdate:modelValue":o[0]||(o[0]=u=>a.email=u),error:e.error,errorText:e.value,onClick:o[1]||(o[1]=u=>e.error=!1)},null,8,["modelValue","error","errorText"]),t("div",U,[s(m,{to:"/member/ship",class:"w-1/3 block"},{default:i(()=>[s(c,{text:"\u53D6\u6D88",className:"btn-outline",class:"w-full"})]),_:1}),s(c,{type:"sumbit",text:"\u78BA\u5B9A",class:"w-1/3",disabled:r.value,loading:r.value},null,8,["disabled","loading"])])],40,S)])])}}};export{j as default};

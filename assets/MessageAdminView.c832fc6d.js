import{A as f,a1 as C,r as h,E as x,a as o,c as a,b as n,w as v,B,H as u,a2 as M,d as e,K as V,L as S,t as i,h as H}from"./index.b886694d.js";import{u as $,_ as A}from"./TheModel.f2af2164.js";import{_ as I}from"./SendProductMessage.ab719f6c.js";import{u as D}from"./contact.346f9fef.js";import"./index.bf8ef64b.js";import"./TheTextarea.f93157d6.js";const E={class:"container py-10"},L=e("p",{class:"text-primary font-bold"},"\u7559\u8A00",-1),N={class:"overflow-auto"},R={class:"w-full table-auto text-center"},T=e("th",{class:"border-2 p-2"},"\u6703\u54E1ID",-1),F=e("th",{class:"border-2 p-2"},"\u8A0A\u606F",-1),K={key:0,class:"border-2 p-2"},U={key:1,class:"border-2 p-2"},j={class:"border-2 p-2"},q={class:"border-2 p-2"},z={key:0,class:"border-2 p-2"},G={key:1,class:"border-2 p-2"},ee={__name:"MessageAdminView",setup(J){const _=D(),{getAdminContactHandler:b,replayContactHandler:y}=_,{contact:p}=f(_),{sortMessage:l}=C(),{toggleShow:c}=f($());b();const r=h(l[0]),m=h(""),g=x(()=>{if(r.value===l[0])return p.value.list.filter(t=>t.reply==="");if(r.value===l[1])return p.value.list.filter(t=>t.reply!=="")}),k=t=>{m.value=t,c.value=!c.value},w=t=>{const d={reply:t.message,id:m.value};y(d),c.value=!c.value};return(t,d)=>(o(),a("div",E,[n(B,{class:"mb-10"},{default:v(()=>[L]),_:1}),n(M,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=s=>r.value=s),select:u(l),class:"mb-6"},null,8,["modelValue","select"]),e("div",N,[e("table",R,[e("thead",null,[e("tr",null,[T,F,r.value!==u(l)[1]?(o(),a("th",K," \u56DE\u8986 ")):(o(),a("th",U,"\u56DE\u8986"))])]),e("tbody",null,[(o(!0),a(V,null,S(u(g),s=>(o(),a("tr",{key:s._id},[e("td",j,i(s.userId),1),e("td",q,i(s.message),1),r.value!==u(l)[1]?(o(),a("td",z,[n(H,{text:"\u56DE\u8986",onClick:O=>k(s._id)},null,8,["onClick"])])):(o(),a("td",G,i(s.reply),1))]))),128))])])]),n(A,null,{default:v(()=>[n(I,{onMessage:w})]),_:1})]))}};export{ee as default};
